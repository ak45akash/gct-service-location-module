<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service & Location Selector Module Preview</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        @font-face {
            font-family: 'Larken';
            src: url('https://gmct.com.au/wp-content/themes/gmct/fonts/larken-regular-webfont.woff2') format('woff2'),
                 url('https://gmct.com.au/wp-content/themes/gmct/fonts/larken-regular-webfont.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }
        
        @font-face {
            font-family: 'Larken-Light';
            src: url('https://gmct.com.au/wp-content/themes/gmct/fonts/larken-light-webfont.woff2') format('woff2'),
                 url('https://gmct.com.au/wp-content/themes/gmct/fonts/larken-light-webfont.woff') format('woff');
            font-weight: 300;
            font-style: normal;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@400;600&display=swap');
        
        body {
            font-family: 'Libre Franklin', sans-serif;
            line-height: 1.6;
            color: rgb(37, 75, 69);
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        header {
            margin-bottom: 40px;
            text-align: center;
        }
        .container {
            margin: 0 auto;
            max-width: 1100px;
        }
        h1 {
            font-size: 28px;
            margin-bottom: 20px;
            font-family: 'Larken-Light', 'larken', sans-serif;
        }
        .preview-controls {
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 30px;
        }
        .preview-controls h2 {
            margin-top: 0;
            margin-bottom: 15px;
        }
        .module-preview {
            padding: 20px;
            border: 1px solid #ddd;
            margin-bottom: 30px;
        }
        .site-header {
            background-color: #333;
            color: white;
            padding: 15px 20px;
            margin-bottom: 20px;
        }
        .page-title {
            font-size: 32px;
            margin-bottom: 30px;
            font-weight: 400;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input, 
        .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
        }
        .form-group button {
            padding: 8px 16px;
            background-color: #4a90e2;
            color: white;
            border: none;
            cursor: pointer;
        }
        .service-mock-data {
            margin-top: 40px;
            padding: 20px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
        }
        
        /* Additional styles to match the image layout exactly */
        .gct-service-content-container {
            margin-top: 30px;
            border: none;
            padding: 0;
        }
        
        .gct-service-content-wrapper {
            margin-bottom: 30px;
        }
        
        .gct-service-image-container {
            border-radius: 0;
            overflow: hidden;
        }
        
        .gct-location-buttons {
            padding-top: 10px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Service & Location Selector Module Preview</h1>
    </header>

    <div class="container">
        <div class="preview-controls">
            <h2>Module Controls</h2>
            <p>These controls simulate the Divi admin settings for the module.</p>
            <form id="preview-form">
                <div class="form-group">
                    <label for="module-title">Module Title:</label>
                    <input type="text" id="module-title" name="module-title" value="Browse Locations by Service">
                </div>
                <div class="form-group">
                    <label for="service-type">Default Service Type:</label>
                    <select id="service-type" name="service-type">
                        <option value="">Select a Service Type</option>
                        <option value="burials">Burials</option>
                        <option value="memorials" selected>Memorials</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="service-label">Service Selector Label:</label>
                    <input type="text" id="service-label" name="service-label" value="Service">
                </div>
                <div class="form-group">
                    <label for="location-title">Location Section Title:</label>
                    <input type="text" id="location-title" name="location-title" value="Locations">
                </div>
                <div class="form-group">
                    <button type="button" id="update-preview">Update Preview</button>
                </div>
            </form>
        </div>

        <!-- Simulated website header -->
        <div class="site-header">
            gmct.com.au/services
        </div>

        <!-- Module preview based on the new design -->
        <div class="module-preview">
            <!-- Module title -->
            <h2 class="gct-module-title">Browse Locations by Service</h2>
            
            <!-- Module wrapper -->
            <div class="gct-service-location-module">
                <!-- Service dropdown at the top -->
                <div class="gct-service-dropdown-container">
                    <select class="gct-service-select">
                        <option value="">Select a service</option>
                        <option value="rose-memorials" selected>Rose Memorials</option>
                        <option value="cremation">Cremation</option>
                        <option value="garden-memorial">Garden Memorial</option>
                        <option value="lawn-grave-headstone">Lawn Grave - Headstone</option>
                        <option value="lawn-grave-plaque">Lawn Grave - Plaque</option>
                        <option value="monumental-grave">Monumental Grave</option>
                        <option value="scattering">Scattering</option>
                    </select>
                </div>
                
                <!-- Service content container -->
                <div class="gct-service-content-container">
                    <!-- Service info container -->
                    <div class="gct-service-info-container">
                        <div class="gct-service-content-wrapper">
                            <!-- Image on the left (30%) -->
                            <div class="gct-service-image-container">
                                <img src="https://placehold.co/800x600/C8E2D4/254B45?text=Service+Image" alt="Rose Memorials" class="gct-service-image">
                            </div>
                            
                            <!-- Content on the right (70%) -->
                            <div class="gct-service-content">
                                <h3 class="gct-service-title">Rose Memorials</h3>
                                <div class="gct-service-description">
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                                    <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                                </div>


                                <!-- Location buttons in a grid -->
                                <div class="gct-location-buttons">
                                    <a href="#" class="gct-location-button">Location Name</a>
                                    <a href="#" class="gct-location-button">Location Name</a>
                                    <a href="#" class="gct-location-button">Location Name</a>
                                    <a href="#" class="gct-location-button">Location Name</a>
                                    <a href="#" class="gct-location-button">Location Name</a>
                                    <a href="#" class="gct-location-button">Location Name</a>
                                    <a href="#" class="gct-location-button">Location Name</a>
                                    <a href="#" class="gct-location-button">Location Name</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="service-mock-data">
            <h2>Mock Data (For Preview Only)</h2>
            <p>This section contains mock data that simulates the WordPress database for this preview:</p>
            
            <h3>Available Services:</h3>
            <ul>
                <li><strong>Rose Memorials</strong> - A beautiful memorial option featuring roses and garden elements</li>
                <li><strong>Cremation</strong> - Cremation services with various memorialization options</li>
                <li><strong>Garden Memorial</strong> - Memorial options set within garden environments</li>
                <li><strong>Lawn Grave - Headstone</strong> - Traditional lawn graves with headstone memorials</li>
                <li><strong>Lawn Grave - Plaque</strong> - Lawn graves with plaque memorials</li>
                <li><strong>Monumental Grave</strong> - Full monument grave options</li>
                <li><strong>Scattering</strong> - Options for scattering ashes in memorial gardens</li>
            </ul>
            
            <h3>Available Locations:</h3>
            <ul>
                <li>Fawkner Memorial Park</li>
                <li>Preston Cemetery</li>
                <li>Bellarine Memorial Park</li>
                <li>Drysdale Cemetery</li>
                <li>Leopold Cemetery</li>
                <li>Portarlington Cemetery</li>
                <li>Queenscliff Cemetery</li>
                <li>Greater Geelong</li>
            </ul>
        </div>
    </div>

    <script>
        // Simple preview control functionality
        $(document).ready(function() {
            // Initialize custom dropdown for the preview
            initPreviewCustomDropdown();

            $('#update-preview').on('click', function() {
                const moduleTitle = $('#module-title').val();
                const locationTitle = $('#location-title').val();
                
                // Update module title
                $('.gct-module-title').text(moduleTitle);
                
                // Update location section title
                $('.gct-location-section-title').text(locationTitle);
            });
            
            // Simple service selector simulation
            $('.gct-service-select').on('change', function() {
                const selectedService = $(this).val();
                updatePreviewContent(selectedService);
            });
            
            // Initialize the preview with the default selected service
            updatePreviewContent($('.gct-service-select').val());
            
            /**
             * Initialize custom dropdown for the preview
             */
            function initPreviewCustomDropdown() {
                const $originalSelect = $('.gct-service-select');
                const $dropdownContainer = $('.gct-service-dropdown-container');
                
                // Create the custom dropdown structure
                const $customSelect = $('<div class="gct-custom-select"></div>');
                const $selectedDiv = $('<div class="gct-select-selected"></div>');
                const $optionsDiv = $('<div class="gct-select-items"></div>');
                
                // Get currently selected value
                const selectedValue = $originalSelect.val();
                
                // Add options to custom dropdown
                $originalSelect.find('option').each(function() {
                    const value = $(this).val();
                    const text = $(this).text();
                    
                    if (value) { // Skip the empty placeholder option
                        // Only add to dropdown list if not currently selected
                        if (value !== selectedValue) {
                            const $option = $('<div data-value="' + value + '">' + text + '</div>');
                            $optionsDiv.append($option);
                            
                            // Add click event to each option
                            $option.on('click', function() {
                                const newValue = $(this).data('value');
                                
                                // Update the original select and trigger change
                                $originalSelect.val(newValue).trigger('change');
                                
                                // Update the custom dropdown display
                                $selectedDiv.text($(this).text());
                                
                                // Rebuild the dropdown options
                                rebuildPreviewDropdownOptions($optionsDiv, $originalSelect, newValue, $selectedDiv);
                                
                                // Close the dropdown
                                $selectedDiv.removeClass('active');
                                $optionsDiv.hide();
                            });
                        }
                    }
                });
                
                // Set initial selected text
                const selectedText = $originalSelect.find('option:selected').text() || 'Select an option';
                $selectedDiv.text(selectedText);
                
                // Toggle dropdown on click
                $selectedDiv.on('click', function() {
                    $(this).toggleClass('active');
                    $optionsDiv.toggle();
                });
                
                // Add custom dropdown to the container
                $customSelect.append($selectedDiv).append($optionsDiv);
                $dropdownContainer.append($customSelect);
                
                // Hide original select
                $originalSelect.hide();
                
                // Close custom dropdowns when clicking outside
                $(document).on('click', function(e) {
                    if (!$(e.target).closest('.gct-custom-select').length) {
                        $('.gct-select-selected').removeClass('active');
                        $('.gct-select-items').hide();
                    }
                });
            }
            
            /**
             * Rebuild dropdown options to exclude the currently selected option
             */
            function rebuildPreviewDropdownOptions($optionsDiv, $originalSelect, selectedValue, $selectedDiv) {
                // Clear existing options
                $optionsDiv.empty();
                
                // Add options to custom dropdown
                $originalSelect.find('option').each(function() {
                    const value = $(this).val();
                    const text = $(this).text();
                    
                    if (value && value !== selectedValue) { // Skip empty and selected options
                        const $option = $('<div data-value="' + value + '">' + text + '</div>');
                        $optionsDiv.append($option);
                        
                        // Add click event to each option
                        $option.on('click', function() {
                            const newValue = $(this).data('value');
                            
                            // Update the original select and trigger change
                            $originalSelect.val(newValue).trigger('change');
                            
                            // Update the custom dropdown display
                            $selectedDiv.text($(this).text());
                            
                            // Rebuild the dropdown options
                            rebuildPreviewDropdownOptions($optionsDiv, $originalSelect, newValue, $selectedDiv);
                            
                            // Close the dropdown
                            $selectedDiv.removeClass('active');
                            $optionsDiv.hide();
                        });
                    }
                });
            }
            
            /**
             * Update the preview content based on selected service
             */
            function updatePreviewContent(selectedService) {
                let title, content;
                
                // Just for demo purposes - you would use AJAX in the real implementation
                if (selectedService === 'cremation') {
                    title = 'Cremation';
                    content = '<p>Our cremation services provide a range of options for families. We offer both traditional and contemporary approaches to cremation.</p><p>Cremation allows for various memorial options including columbarium niches, scattering gardens, or keeping remains in a personal urn.</p>';
                } else if (selectedService === 'garden-memorial') {
                    title = 'Garden Memorial';
                    content = '<p>Garden memorials offer a peaceful, natural setting to remember your loved ones. These memorials are integrated into beautiful garden environments.</p><p>Options include dedicated trees, shrubs, garden beds or specialized memorial features surrounded by natural beauty.</p>';
                } else if (selectedService === 'lawn-grave-headstone') {
                    title = 'Lawn Grave - Headstone';
                    content = '<p>Lawn graves with headstones combine the simplicity of lawn areas with the personalization of a traditional headstone memorial.</p><p>These graves feature a manicured lawn area with a headstone at the head of the grave, allowing for personalized inscriptions and designs.</p>';
                } else if (selectedService === 'lawn-grave-plaque') {
                    title = 'Lawn Grave - Plaque';
                    content = '<p>Lawn graves with plaques offer a simple, elegant memorial option. The grave is covered with lawn, with a plaque set flush with the ground.</p><p>This creates a clean, uniform appearance while still allowing for personalized inscriptions and small decorative elements.</p>';
                } else if (selectedService === 'monumental-grave') {
                    title = 'Monumental Grave';
                    content = '<p>Monumental graves feature full monuments that cover the grave area. These can be highly personalized with different materials, designs and sizes.</p><p>Monuments typically include a headstone with inscription and may also include side pieces, covers, or other decorative elements.</p>';
                } else if (selectedService === 'scattering') {
                    title = 'Scattering';
                    content = '<p>Scattering provides a way to return your loved one to nature in a special location. We offer dedicated scattering gardens in peaceful settings.</p><p>Memorial options are available to mark the location where ashes have been scattered, providing a place for remembrance and reflection.</p>';
                } else {
                    title = 'Rose Memorials';
                    content = '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p><p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>';
                }
                
                // Update content
                $('.gct-service-title').text(title);
                $('.gct-service-description').html(content);
                $('.gct-service-image').attr('alt', title);
            }
        });
    </script>
</body>
</html> 